## Target

1. èƒ½å¤Ÿè¯´å‡ºä½œç”¨åŸŸé“¾æ˜¯ä»€ä¹ˆ
2. èƒ½å¤Ÿäº†è§£ä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶æœºåˆ¶
3. èƒ½å¤Ÿè¯´å‡ºä»€ä¹ˆæ˜¯é—­åŒ…ä»¥åŠä½œç”¨
4. èƒ½å¤Ÿå†™å‡ºç®­å¤´å‡½æ•°å¸¸è§çš„å†™æ³•
5. èƒ½å¤Ÿå®Œæˆæ•°ç»„è§£æ„å¹¶ä¸”å®Œæˆå¤šç»´æ•°ç»„è§£æ„
6. èƒ½å¤Ÿå®Œæˆå¯¹è±¡è§£æ„å¹¶ä¸”å®Œæˆå¤šçº§å¯¹è±¡è§£æ„
7. èƒ½å¤Ÿå®Œæˆä»Šæ—¥ç»¼åˆæ¡ˆä¾‹-å•†å“ç­›é€‰æ¡ˆä¾‹

ğŸ’¡ğŸš€ğŸ¤ŸğŸ‘‰ğŸ‘‡â˜€ï¸ğŸ‰ğŸğŸ‡ğŸ“ğŸ¥•ğŸ­ğŸ–ï¸ğŸâ˜˜ï¸ğŸ€ğŸ’¯ğŸ”†â—ğŸ”¥ğŸš©

## 1. ä½œç”¨åŸŸ

> ä½œç”¨åŸŸ scope : **å°±æ˜¯å˜é‡ä¸å‡½æ•°çš„å¯è®¿é—®èŒƒå›´ï¼Œå³ä½œç”¨åŸŸæ§åˆ¶ç€å˜é‡å’Œå‡½æ•°çš„å¯è§æ€§å’Œç”Ÿå‘½å‘¨æœŸã€‚**

ES6ä¹‹å‰ï¼ŒESä½œç”¨åŸŸåªæœ‰ï¼š

 - **å…¨å±€ä½œç”¨åŸŸ** (Global Scope): ä¸­çš„å¯¹è±¡åœ¨ä»£ç ä¸­çš„ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸä¼´éšç€é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸã€‚
 - **å‡½æ•°ä½œç”¨åŸŸ** (Local Scope) :  JSçš„ä½œç”¨åŸŸæ˜¯é€šè¿‡å‡½æ•°æ¥å®šä¹‰çš„,  åœ¨ä¸€ä¸ªå‡½æ•°ä¸­å®šä¹‰çš„å˜é‡åªå¯¹è¿™ä¸ªå‡½æ•°å†…éƒ¨å¯è§, ç§°ä¸ºå‡½æ•°(å±€éƒ¨)ä½œç”¨åŸŸ

ES6æ–°å¢

 - **å—çº§ä½œç”¨åŸŸï¼šå—çº§ä½œç”¨åŸŸå†…å£°æ˜çš„å˜é‡ä¸å½±å“å¤–é¢çš„å˜é‡**

### 1.1 å…¨å±€ä½œç”¨åŸŸ

> ç›´æ¥å†™åœ¨scriptæ ‡ç­¾ä¸­çš„jsä»£ç ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸ

![image-20220806001603551](imgs/image-20220806001603551.png)

### 1.2 å±€éƒ¨ä½œç”¨åŸŸ

å±€éƒ¨ä½œç”¨åŸŸåˆ†ä¸ºå‡½æ•°ä½œç”¨åŸŸå’Œå—çº§ä½œç”¨åŸŸ(ES6)ã€‚

#### å‡½æ•°ä½œç”¨åŸŸ

> åœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è¢«è®¿é—®ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®ã€‚

```js
function getSum() {
    // å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡åªå¯¹å‡½æ•°å†…éƒ¨å¯è§, å«å‡½æ•°ä½œç”¨åŸŸ(å±€éƒ¨)
    const num = 10
}
console.log(num) // Error å‡½æ•°å¤–éƒ¨ä¸èƒ½è®¿é—®å±€éƒ¨ä½œç”¨åŸŸ.
```

1.  **å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œ åœ¨å‡½æ•°å¤–éƒ¨æ— æ³•è¢«è®¿é—®**
2. å‡½æ•°çš„å½¢å‚ä¹Ÿæ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡
3. ä¸åŒå‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡,  æ— æ³•ç›¸äº’è®¿é—®
4. å‡½æ•°æ‰§è¡Œå®Œæ¯•å, å‡½æ•°å†…éƒ¨çš„å˜é‡å®é™…è¢«æ¸…ç©ºäº†(åƒåœ¾å›æ”¶)

#### å—çº§ä½œç”¨åŸŸ

> ES6,  `{}` åŒ…è£¹èµ·æ¥çš„ä»£ç ç§°ä¸ºä»£ç å—, **ä½¿ç”¨ let æˆ– const å£°æ˜çš„å˜é‡**, åœ¨ `{}` ä¼šäº§ç”Ÿå—çº§ä½œç”¨åŸŸ

```js
for (let i = 0; i <= 6; i++) {
    console.log(i)
}
console.log(i) // Error
```

1. varå£°æ˜ä¸ä¼šäº§ç”Ÿå—çº§ä½œç”¨åŸŸ
2. **åªæœ‰let const æ‰ä¼šäº§ç”Ÿå—çº§ä½œç”¨åŸŸ** 
3. ä¸åŒä»£ç å—ä¹‹é—´çš„å˜é‡æ— æ³•ç›¸äº’è®¿é—®



> å±€éƒ¨ä½œç”¨åŸŸå£°æ˜çš„å˜é‡ å¤–éƒ¨ä¸èƒ½ä½¿ç”¨

### 1.3 ä½œç”¨åŸŸé“¾

#### æ€è€ƒ

```js
// å…¨å±€ä½œç”¨åŸŸ
let a = 1 
let b = 1
function f(){
    // å±€éƒ¨ä½œç”¨åŸŸ
    let a = 1
    function g(){
         // å±€éƒ¨ä½œç”¨åŸŸ
        a = 2
        console.log(a)
    }
    g() // è°ƒç”¨g
}
f() // è°ƒç”¨f
```



#### ä½œç”¨åŸŸé“¾

![image-20220806005012185](imgs/image-20220806005012185.png)

#### å°ç»“

![image-20220806010316200](imgs/image-20220806010316200.png)



```js
var x=10;
function fn() {
    console.log(x);
}
function show(f) {
    var x=20;
    f();
}
show(fn);
// å‡½æ•°çš„ä½œç”¨åŸŸåœ¨å®šä¹‰çš„æ—¶å€™å°±äº§ç”Ÿäº†
```

- ç”±äºfnæ˜¯æœ€å¤–å±‚çš„å‡½æ•°æ‰€ä»¥æ²¡æœ‰é—­åŒ…äº§ç”Ÿï¼Œåº”è¯¥ç”¨å‡½æ•°çš„ä½œç”¨åŸŸæ¥è§£å†³ï¼Œå‡½æ•°çš„ä½œç”¨åŸŸæ˜¯å†å®šä¹‰å‡½æ•°çš„æ—¶å€™å°±å·²ç»äº§ç”Ÿäº†ï¼Œå¹¶ä¸æ˜¯ä»£ç æ‰§è¡Œçš„æ—¶å€™äº§ç”Ÿï¼Œæ‰€ä»¥å³ä¾¿æŠŠfnä½œä¸ºå‚æ•°ä¼ åˆ°äº†show()å‡½æ•°é‡Œé¢ï¼Œä½†æ˜¯æ‰§è¡Œä»£ç æ—¶ä½¿ç”¨çš„ä½œç”¨åŸŸæ˜¯å®šä¹‰å‡½æ•°æ—¶å€™çš„ï¼Œfnæ˜¯åœ¨æœ€å¤–å±‚å®šä¹‰çš„ï¼Œæ‰€ä»¥å½“è‡ªå·±å†…éƒ¨æ‰¾ä¸åˆ°xçš„æ—¶å€™ä¼šå»windowä¸Šé¢æ‰¾ã€‚

## 2. åƒåœ¾å›æ”¶

### 2.1 ä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶æœºåˆ¶

åƒåœ¾å›æ”¶æœºåˆ¶(Garbage Collection) ç®€ç§° GC

JSä¸­å†…å­˜çš„åˆ†é…å’Œé—²ç½®èµ„æºçš„å›æ”¶éƒ½æ˜¯è‡ªåŠ¨å®Œæˆçš„ï¼Œå†…å­˜åœ¨ä¸ä½¿ç”¨çš„æ—¶å€™ä¼šè¢«åƒåœ¾å›æ”¶ç¨‹åºè‡ªåŠ¨å›æ”¶ã€‚ 

```js
function fn(){
    const num = 1
}
fn()
```



åŸºæœ¬æ€è·¯å¾ˆç®€å•ï¼š

ç¡®å®šå“ªä¸ªå˜é‡ä¸ä¼šå†ä½¿ç”¨ï¼Œç„¶åé‡Šæ”¾å®ƒå ç”¨çš„å†…å­˜ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å‘¨æœŸæ€§çš„ï¼Œå³åƒåœ¾å›æ”¶ç¨‹åºæ¯éš”ä¸€å®šæ—¶é—´ï¼ˆæˆ–è€…è¯´åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­æŸä¸ªé¢„å®šçš„æ”¶é›†æ—¶é—´ï¼‰å°±ä¼šè‡ªåŠ¨è¿è¡Œã€‚



#### å†…å­˜æ³„æ¼

æ­£å› ä¸ºåƒåœ¾å›æ”¶æœºåˆ¶çš„å­˜åœ¨ï¼Œè®¸å¤šäººè®¤ä¸ºJSä¸ç”¨å¤ªå…³å¿ƒå†…å­˜ç®¡ç†çš„é—®é¢˜

ä½†å¦‚æœä¸äº†è§£JSçš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œæˆ‘ä»¬åŒæ ·éå¸¸å®¹æ˜“æˆå†…å­˜æ³„æ¼ï¼ˆå†…å­˜æ— æ³•è¢«å›æ”¶ï¼‰çš„æƒ…å†µ.

> å†…å­˜æ³„æ¼ : ä¸å†ç”¨åˆ°çš„å†…å­˜ï¼Œæ²¡æœ‰åŠæ—¶é‡Šæ”¾



#### å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸ

1.å†…å­˜åˆ†é…ï¼šå½“æˆ‘ä»¬å£°æ˜å˜é‡ã€å‡½æ•°ã€å¯¹è±¡çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºä»–ä»¬åˆ†é…å†…å­˜

2.å†…å­˜ä½¿ç”¨ï¼šå³è¯»å†™å†…å­˜ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨å˜é‡ã€å‡½æ•°ç­‰

3.å†…å­˜å›æ”¶ï¼šä½¿ç”¨å®Œæ¯•ï¼Œç”±åƒåœ¾å›æ”¶è‡ªåŠ¨å›æ”¶ä¸å†ä½¿ç”¨çš„å†…å­˜

**è¯´æ˜**

1. å…¨å±€å˜é‡ä¸€èˆ¬ä¸ä¼šå›æ”¶(å…³é—­é¡µé¢å›æ”¶)ï¼› 

2. ä¸€èˆ¬æƒ…å†µä¸‹å±€éƒ¨å˜é‡çš„å€¼, ä¸ç”¨äº†, ä¼šè¢«è‡ªåŠ¨å›æ”¶æ‰

![image-20220806012115084](imgs/image-20220806012115084.png)

#### å°ç»“

![image-20220806012605666](imgs/image-20220806012605666.png)



### 2.2 åƒåœ¾å›æ”¶ç­–ç•¥

> `JavaScript` åƒåœ¾å›æ”¶æœºåˆ¶çš„åŸç†è¯´ç™½äº†ä¹Ÿå°±æ˜¯å®šæœŸæ‰¾å‡ºé‚£äº›ä¸å†ç”¨åˆ°çš„å†…å­˜ï¼ˆå˜é‡ï¼‰ï¼Œç„¶åé‡Šæ”¾å…¶å†…å­˜

å¯èƒ½å¤§å®¶è¿˜ä¼šå¥½å¥‡ä¸ºä»€ä¹ˆä¸æ˜¯å®æ—¶çš„æ‰¾å‡ºæ— ç”¨å†…å­˜å¹¶é‡Šæ”¾å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œå®æ—¶å¼€é”€å¤ªå¤§äº†

æˆ‘ä»¬éƒ½å¯ä»¥ Get åˆ°è¿™ä¹‹ä¸­çš„é‡ç‚¹ï¼Œé‚£å°±æ˜¯æ€æ ·æ‰¾å‡ºæ‰€è°“çš„åƒåœ¾ï¼Ÿ

è¿™ä¸ªæµç¨‹å°±æ¶‰åŠåˆ°äº†ä¸€äº›ç®—æ³•ç­–ç•¥ï¼Œæœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œæˆ‘ä»¬ç®€å•ä»‹ç»ä¸¤ä¸ªæœ€å¸¸è§çš„

- å¼•ç”¨è®¡æ•°ç®—æ³• (æ·˜æ±°)

- æ ‡è®°æ¸…é™¤ç®—æ³• 

#### 2.2.1 å¼•ç”¨è®¡æ•°æ³•

> å…¶æ€è·¯æ˜¯å¯¹æ¯ä¸ªå€¼éƒ½è®°å½•å®ƒè¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚

![image-20220806013845511](imgs/image-20220806013845511.png)

```js
const person = {
Â  Â  Â  age: 18,
Â  Â  Â  name: 'pinkè€å¸ˆ'
}
const p = person
person = 1
p = null
```

ç”±ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œå¼•ç”¨è®¡æ•°ç®—æ³•æ˜¯ä¸ªç®€å•æœ‰æ•ˆçš„ç®—æ³•ã€‚

ä½†å®ƒå´å­˜åœ¨ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼š**å¾ªç¯å¼•ç”¨**

å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œå°½ç®¡ä»–ä»¬å·²ä¸å†ä½¿ç”¨ï¼Œåƒåœ¾å›æ”¶å™¨ä¸ä¼šè¿›è¡Œå›æ”¶ï¼Œå¯¼è‡´å†…å­˜æ³„éœ²ã€‚ 

```js
function problem () {
    let oA = {}
    let oB = {}
    oA.c = oB  //  oBè¢«oAå¼•ç”¨
    oB.d = oA  //  oAåˆè¢«oBå¼•ç”¨
}
problem()
```



#### 2.2.2 æ ‡è®°æ¸…é™¤æ³•

![image-20220806022820779](imgs/image-20220806022820779.png)

**ä¸»è¦å°†GCçš„åƒåœ¾å›æ”¶è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ**

- æ ‡è®°é˜¶æ®µï¼šæŠŠæ‰€æœ‰æ´»åŠ¨å¯¹è±¡åšä¸Šæ ‡è®°ã€‚
- æ¸…é™¤é˜¶æ®µï¼šæŠŠæ²¡æœ‰æ ‡è®°ï¼ˆä¹Ÿå°±æ˜¯éæ´»åŠ¨å¯¹è±¡ï¼‰é”€æ¯ã€‚

##### æ ‡è®°é˜¶æ®µ

**æ ¹**å¯ä»¥ç†è§£æˆæˆ‘ä»¬çš„å…¨å±€ä½œç”¨åŸŸï¼ŒGCä»å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œæ²¿ä½œç”¨åŸŸé€å±‚å¾€é‡Œéå†ï¼ˆå¯¹ï¼Œæ˜¯æ·±åº¦éå†ï¼‰ï¼Œå½“éå†åˆ°å †ä¸­å¯¹è±¡æ—¶ï¼Œè¯´æ˜è¯¥å¯¹è±¡è¢«å¼•ç”¨ç€ï¼Œåˆ™æ‰“ä¸Šä¸€ä¸ªæ ‡è®°ï¼Œç»§ç»­é€’å½’éå†ï¼ˆå› ä¸ºè‚¯å®šå­˜åœ¨å †ä¸­å¯¹è±¡å¼•ç”¨å¦ä¸€ä¸ªå †ä¸­å¯¹è±¡ï¼‰ï¼Œç›´åˆ°éå†åˆ°æœ€åä¸€ä¸ªï¼ˆæœ€æ·±çš„ä¸€å±‚ä½œç”¨åŸŸï¼‰èŠ‚ç‚¹ã€‚

![image-20220806023849683](imgs/image-20220806023849683.png)

##### æ¸…é™¤é˜¶æ®µ

> **å›æ”¶æ²¡æœ‰æ‰“ä¸Šæ ‡è®°çš„å¯¹è±¡**ã€‚



## 3. é—­åŒ…

### 3.1 å®šä¹‰

#### 1. é«˜ç¨‹3 / 4 

> Closures are functions that have access to variables from another functionâ€™s scope.

- 3: **é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚**

- 4: é—­åŒ…æŒ‡çš„æ˜¯é‚£äº›å¼•ç”¨äº†å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°ï¼Œé€šå¸¸æ˜¯åœ¨åµŒå¥—å‡½æ•°ä¸­å®ç°çš„ã€‚

#### 2. MDN

**é—­åŒ…**ï¼ˆclosureï¼‰æ˜¯ä¸€ä¸ªå‡½æ•°ä»¥åŠå…¶æ†ç»‘çš„å‘¨è¾¹ç¯å¢ƒçŠ¶æ€çš„å¼•ç”¨çš„ç»„åˆã€‚æ¢è€Œè¨€ä¹‹ï¼Œé—­åŒ…è®©å¼€å‘è€…å¯ä»¥ä»å†…éƒ¨å‡½æ•°è®¿é—®å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸã€‚åœ¨ JavaScript ä¸­ï¼Œé—­åŒ…ä¼šéšç€å‡½æ•°çš„åˆ›å»ºè€Œè¢«åŒæ—¶åˆ›å»ºã€‚

#### 3. æå®¢æ—¶é—´

**å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡çš„é›†åˆ**



> **é—­åŒ… = å†…å±‚å‡½æ•° + å¤–å±‚å‡½æ•°çš„å˜é‡**

![image-20220806025447619](imgs/image-20220806025447619.png)

```js
function outer() {
    let a = 10
    function fn() {
        console.log(a)  // breakpoint
    }
    fn()
}
outer()
```



åœ¨ JavaScript ä¸­ï¼Œå†…éƒ¨å‡½æ•°æ€»æ˜¯å¯ä»¥è®¿é—®å…¶å¤–éƒ¨å‡½æ•°ä¸­å£°æ˜çš„å˜é‡ï¼Œå½“é€šè¿‡è°ƒç”¨ä¸€ä¸ªå¤–éƒ¨å‡½æ•°è¿”å›ä¸€ä¸ªå†…éƒ¨å‡½æ•°åï¼Œå³ä½¿è¯¥å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œç»“æŸäº†ï¼Œä½†æ˜¯å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ä¾ç„¶ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæˆ‘ä»¬å°±æŠŠè¿™äº›å˜é‡çš„é›†åˆç§°ä¸ºé—­åŒ…ã€‚æ¯”å¦‚å¤–éƒ¨å‡½æ•°æ˜¯ fooï¼Œé‚£ä¹ˆè¿™äº›å˜é‡çš„é›†åˆå°±ç§°ä¸º foo å‡½æ•°çš„é—­åŒ…ã€‚

### 3.2 é—­åŒ…çš„ä½œç”¨

> å¤–éƒ¨å¯ä»¥è®¿é—®å‡½æ•°å†…éƒ¨çš„å˜é‡

![image-20220806032005825](imgs/image-20220806032005825.png)

### 3.3 é—­åŒ…çš„åº”ç”¨

![image-20220806032928223](imgs/image-20220806032928223.png)

#### Code

```js
let i = 0
function fn() {
  i++
  console.log(`å‡½æ•°è¢«è°ƒç”¨äº†${i}æ¬¡`)
}
fn()

//==================
function count() {
  let i = 0
  function fn() {
    i++
    console.log(`å‡½æ•°è¢«è°ƒç”¨äº†${i}æ¬¡`)
  }
  return fn  
}
const fun = count()
```

### 3.4 æ€»ç»“

![image-20220806034759693](imgs/image-20220806034759693.png)



## 4. å˜é‡æå‡(Hoisting)

### 4.1 å˜é‡æå‡

![image-20220806035056658](imgs/image-20220806035056658.png)

#### Code 

```js
console.log(num + 'ä»¶')
var num = 10
// var num
// console.log(num + 'ä»¶')
// num = 10
// console.log(num)

function fn() {
  // åªæå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€å‰
  console.log(num)
  var num = 10
  }
fn()
```



![image-20220806035140289](imgs/image-20220806035140289.png)

### 4.2 å‡½æ•°æå‡

![image-20220806040111213](imgs/image-20220806040111213.png)

```js
// 1. ä¼šæŠŠæ‰€æœ‰å‡½æ•°å£°æ˜æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€å‰é¢
// 2. åªæå‡å‡½æ•°å£°æ˜ï¼Œä¸æå‡å‡½æ•°è°ƒç”¨
fn()
function fn() {
  console.log('å‡½æ•°æå‡')
}
fun()
var fun = function () {
  console.log('å‡½æ•°è¡¨è¾¾å¼')
}
```

### 4.3 æå‡ä¼˜å…ˆçº§

```js
console.log(c)
var c;
function c(){
    console.log(c);
    var c = 3;
}
c(2);
```

```js
var c = 1;
function c(){
    console.log(c);
    var c = 3;
}
console.log(c);
c(2);
```

- åœ¨å‡½æ•°ä¸å˜é‡ä¹‹é—´ï¼Œå‡½æ•°é¦–å…ˆä¼šè¢«æå‡ï¼Œç„¶åæ‰æ˜¯å˜é‡ã€‚

> å‡½æ•°æå‡ä¼˜å…ˆçº§æ¯”å˜é‡æå‡è¦é«˜ï¼Œä¸”ä¸ä¼šè¢«**åŒåçš„å˜é‡å£°æ˜è¦†ç›–**ï¼Œä½†æ˜¯ä¼šè¢«å˜é‡èµ‹å€¼è¦†ç›–ã€‚
>
> å½“äºŒè€…åŒæ—¶å­˜åœ¨æ—¶ï¼Œä¼šå…ˆæŒ‡å‘å‡½æ•°å£°æ˜ã€‚

## 5. å‡½æ•°å‚æ•°

### 5.1 åŠ¨æ€å‚æ•°

![image-20220806040840427](imgs/image-20220806040840427.png)



#### Code

```js
function getSum() {
  // arguments åŠ¨æ€å‚æ•° åªå­˜åœ¨äº å‡½æ•°é‡Œé¢
  // æ˜¯ä¼ªæ•°ç»„ é‡Œé¢å­˜å‚¨çš„æ˜¯ä¼ é€’è¿‡æ¥çš„å®å‚
  // console.log(arguments)  [2,3,4]
  let sum = 0
  for (let i = 0; i < arguments.length; i++) {
    sum += arguments[i]
  }
  console.log(sum)
}
getSum(2, 3, 4)
getSum(1, 2, 3, 4, 2, 2, 3, 4)
```



![image-20220806040900855](imgs/image-20220806040900855.png)

![image-20220806041558038](imgs/image-20220806041558038.png)

### 5.2 restå‚æ•°  ES6

> ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸º`...å˜é‡å`ï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨`arguments`å¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚

![image-20220806042001495](imgs/image-20220806042001495.png)

#### Code

```js
function getSum(...arr) {
  console.log(arr)  // ä½¿ç”¨çš„æ—¶å€™ä¸éœ€è¦å†™ ...
}
function getSum(a, b, ...arr) {
  console.log(arr)  
}
getSum(2, 3)
getSum(1, 2, 3, 4, 5)
```



![image-20220806042029681](imgs/image-20220806042029681.png)

#### å°ç»“

![image-20220806042041253](imgs/image-20220806042041253.png)

### 5.3 æ‰©å±•è¿ç®—ç¬¦

>  æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆ`...`ï¼‰ã€‚å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚

```js
// æ‰©å±•è¿ç®—ç¬¦(...arr) å°†ä¸€ä¸ªæ•°ç»„è¿›è¡Œå±•å¼€
const arr = [1, 5, 3, 8, 2]
console.log(...arr)
// æ³¨æ„: ä¸ä¼šä¿®æ”¹åŸæ•°ç»„
```



#### åº”ç”¨åœºæ™¯

![image-20220806043759009](imgs/image-20220806043759009.png)

#### ä¸reståŒºåˆ«

![image-20220806044307740](imgs/image-20220806044307740.png)

#### å°ç»“

![image-20220806044343057](imgs/image-20220806044343057.png)

## 6. ç®­å¤´å‡½æ•°

> ES6 å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ`=>`ï¼‰å®šä¹‰å‡½æ•°ã€‚ ç®­å¤´å‡½æ•°

![image-20220806044525202](imgs/image-20220806044525202.png)

### 6.1 ç®­å¤´å‡½æ•°

![image-20220806044553329](imgs/image-20220806044553329.png)

![image-20220806050422825](imgs/image-20220806050422825.png)

![image-20220806050407650](imgs/image-20220806050407650.png)



![image-20220806050438231](imgs/image-20220806050438231.png)

#### Code

```js
// const fn = function () {
//   console.log(123)
// }
// 1. ç®­å¤´å‡½æ•° åŸºæœ¬è¯­æ³•
const fn1 = () => {
  console.log(123)
}
fn1()
// ä¼ å‚
const fn2 = (x) => {
  console.log(x)
}
fn2(1)
// 2. åªæœ‰ä¸€ä¸ªå½¢å‚çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥å°æ‹¬å·
const fn3 = x => {
  console.log(x)
}
fn3(1)
// 3. åªæœ‰ä¸€è¡Œä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥å¤§æ‹¬å·
const fn4 = x => console.log(x)
fn4(6)
// 4. åªæœ‰ä¸€è¡Œä»£ç çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥return
const fn5 = x => x + x
console.log(fn5(1))
// 5. ç®­å¤´å‡½æ•°å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡, ä½†å¿…é¡»åœ¨å¯¹è±¡å¤–é¢åŠ ä¸Šæ‹¬å·
const fn6 = (name) => ({ user_name: name })
console.log(fn6('åˆ˜å¾·å'))
```

### 6.2 ç®­å¤´å‡½æ•°å‚æ•°

![image-20220806050549456](imgs/image-20220806050549456.png)

![image-20220806050559918](imgs/image-20220806050559918.png)

### 6.3 ç®­å¤´å‡½æ•°this

#### Code

```js
// ä»¥å‰thisçš„æŒ‡å‘ï¼š  è°è°ƒç”¨çš„è¿™ä¸ªå‡½æ•°ï¼Œthis å°±æŒ‡å‘è°
// console.log(this)  // window
// æ™®é€šå‡½æ•°
function fn() {
  console.log(this)  // window
}
window.fn()
// å¯¹è±¡æ–¹æ³•é‡Œé¢çš„this
const obj = {
  name: 'andy',
  sayHi: function () {
    console.log(this)  // obj
  }
}
obj.sayHi()

// 2. ç®­å¤´å‡½æ•°çš„this  æ˜¯ä¸Šä¸€å±‚ä½œç”¨åŸŸçš„this æŒ‡å‘
const fn = () => {
  console.log(this)  // window
}
fn()
// å¯¹è±¡æ–¹æ³•ç®­å¤´å‡½æ•° this
const obj = {
  uname: 'pinkè€å¸ˆ',
  sayHi: () => {
    console.log(this)  // this æŒ‡å‘è°ï¼Ÿ
  }
}
obj.sayHi()
```



![image-20220806050707604](imgs/image-20220806050707604.png)

![image-20220806050716685](imgs/image-20220806050716685.png)

![image-20220806050731079](imgs/image-20220806050731079.png)

![image-20220806050804635](imgs/image-20220806050804635.png)

![image-20220806050817155](imgs/image-20220806050817155.png)
