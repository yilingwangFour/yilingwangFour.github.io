## Target

1. èƒ½å¤Ÿè¯´å‡ºæ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡é‡Œé¢çš„thisæŒ‡å‘
2. èƒ½å¤Ÿåˆ©ç”¨ç”»å›¾å·¥å…·ç”»å‡ºæ„é€ å‡½æ•°ã€å®ä¾‹å¯¹è±¡ã€åŸå‹å¯¹è±¡çš„å…³ç³»å›¾
3. èƒ½å¤Ÿåˆ©ç”¨åŸå‹å®ç°ç»§æ‰¿
4. èƒ½å¤Ÿåˆ©ç”¨ç”»å›¾å·¥å…·ç”»å‡ºåŸå‹é“¾
5. èƒ½å¤Ÿè·Ÿéšè¯¾å ‚ä»£ç å®Œæˆç»¼åˆæ¡ˆä¾‹-å°è£…æ¨¡æ€æ¡†

ğŸ’¡ğŸš€ğŸ¤ŸğŸ‘‰ğŸ‘‡â˜€ï¸ğŸ‰ğŸğŸ‡ğŸ“ğŸ¥•ğŸ­ğŸ–ï¸ğŸâ˜˜ï¸ğŸ€ğŸ’¯ğŸ”†â—ğŸ”¥ğŸš©

## 1. ç¼–ç¨‹æ€æƒ³

### 1.1 é¢å‘è¿‡ç¨‹ï¼ˆPOPï¼‰

> é¢å‘è¿‡ç¨‹ç¼–ç¨‹ï¼š Process-oriented Programming , ä»¥**è¿‡ç¨‹**ä¸ºæ ¸å¿ƒï¼Œå¼ºè°ƒ**äº‹ä»¶çš„æµç¨‹ã€é¡ºåºï¼Œ**å¦‚ï¼šCè¯­è¨€ã€‚

![image-20220808234858856](imgs/image-20220808234858856.png)

### 1.2 é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰

> é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šObject-oriented Programming , ä»¥**å¯¹è±¡**ä¸ºæ ¸å¿ƒï¼Œå¼ºè°ƒ**äº‹ä»¶çš„è§’è‰²ã€ä¸»ä½“ï¼Œ**å¦‚ï¼šC++ã€Javaã€‚

![image-20220808234911129](imgs/image-20220808234911129.png)

### 1.3 å¦‚ä½•æŠŠå¤§è±¡è£…è¿›å†°ç®±

#### 1.3.1 é¢å‘è¿‡ç¨‹

```js
ä¸ºäº†æŠŠå¤§è±¡è£…è¿›å†°ç®±ï¼Œéœ€è¦3ä¸ªè¿‡ç¨‹ã€‚

1) æŠŠå†°ç®±é—¨æ‰“å¼€ï¼ˆå¾—åˆ°æ‰“å¼€é—¨çš„å†°ç®±ï¼‰

2) æŠŠå¤§è±¡è£…è¿›å»ï¼ˆå¾—åˆ°æ‰“å¼€ç€é—¨çš„, è£…ç€å¤§è±¡çš„å†°ç®±ï¼‰

3) æŠŠå†°ç®±é—¨å…³ä¸Šï¼ˆæ‰“å¼€é—¨ã€è£…å¥½å¤§è±¡åï¼Œè·å¾—å…³å¥½é—¨çš„å†°ç®±ï¼‰

æ¯ä¸ªè¿‡ç¨‹æœ‰ä¸€ä¸ªé˜¶æ®µæ€§çš„ç›®æ ‡ï¼Œä¾æ¬¡å®Œæˆè¿™äº›è¿‡ç¨‹ï¼Œå°±èƒ½æŠŠå¤§è±¡è£…è¿›å†°ç®±ã€‚

é¢å‘è¿‡ç¨‹åƒæ˜¯æˆ‘ä»¬ç«™åœ¨ä¸Šå¸è§†è§’, ä¸ºä¸‡ç‰©æŒ‡å®šå‘½è¿çš„è½¨è¿¹â€¦â€¦
```

#### 1.3.2 é¢å‘å¯¹è±¡

```js
// æ¯ä¸ªåŠ¨ä½œæœ‰ä¸€ä¸ªæ‰§è¡Œè€…ï¼Œå®ƒå°±æ˜¯å¯¹è±¡ã€‚
// ä¹Ÿå°±æ˜¯è°(å¯¹è±¡), è¦åšä»€ä¹ˆ

ä¸ºäº†æŠŠå¤§è±¡è£…è¿›å†°ç®±ï¼Œå¯¹äºå†°ç®±è¿™ä¸ªå¯¹è±¡æ¥è¯´, éœ€è¦åšä¸‰ä¸ªåŠ¨ä½œï¼ˆæˆ–è€…å«è¡Œä¸ºï¼‰ã€‚

1) å†°ç®±ï¼Œä½ ç»™æˆ‘æŠŠé—¨æ‰“å¼€

2) å†°ç®±ï¼Œä½ ç»™æˆ‘æŠŠå¤§è±¡è£…è¿›å»ï¼ˆæˆ–è€…è¯´ï¼Œå¤§è±¡ï¼Œä½ ç»™æˆ‘é’»åˆ°å†°ç®±é‡Œå»ï¼‰ (å¤§è±¡, æ»šè¿›å»~~~)

3) å†°ç®±ï¼Œä½ ç»™æˆ‘æŠŠé—¨å…³ä¸Š  (å¤§è±¡,ä½ å¸®æˆ‘æŠŠå†°ç®±é—¨å¸¦ä¸Š)

ä¾æ¬¡åšè¿™äº›åŠ¨ä½œï¼Œå°±èƒ½æŠŠå¤§è±¡è£…è¿›å†°ç®±ã€‚

å†°ç®±.å¼€é—¨()
å†°ç®±.è£…è¿›(å¤§è±¡)
å†°ç®±.å…³é—¨()

===> å†°ç®±.å¼€é—¨().è£…è¿›(å¤§è±¡).å…³é—¨()

å¤§è±¡:å¹ä¸ªç©ºè°ƒæˆ‘å®¹æ˜“ä¹ˆ?

 // æ±‚å¤§è±¡çš„å¿ƒç†é˜´å½±é¢ç§¯? ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æ€ä¹ˆå†™?
 å¤§è±¡.é˜´å½±é¢ç§¯()
```

**é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹ä¸æ˜¯äº’æ–¥çš„, ä¹Ÿå°±æ˜¯è¯´, é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ä¸­, ä¹Ÿå¯ä»¥æœ‰é¢å‘è¿‡ç¨‹çš„æ€æƒ³.**

æ¯”å¦‚æ±‚å¤§è±¡çš„å¿ƒç†é˜´å½±è¿™ä¸ªæ–¹æ³•ä¸­, æ˜¯ä¸æ˜¯è¦è®¡ç®—é•¿å®½, è¿™æ ·ç±»ä¼¼çš„æ­¥éª¤~~. å…ˆè®¡ç®—é•¿, å†è®¡ç®—å®½, å†æ±‚å’Œ. è¿™æ˜¯é¢å‘è¿‡ç¨‹ç¼–ç¨‹.



![image-20220808235013042](imgs/image-20220808235013042.png)

### 1.4 ç±»

é¢å‘å¯¹è±¡æ›´è´´è¿‘æˆ‘ä»¬çš„å®é™…ç”Ÿæ´», å¯ä»¥ä½¿ç”¨é¢å‘å¯¹è±¡æ¥æè¿°ç°å®ä¸–ç•Œäº‹ç‰©, ä½†æ˜¯äº‹ç‰©åˆåˆ†ä¸ºå…·ä½“çš„äº‹ç‰©å’ŒæŠ½è±¡çš„äº‹ç‰©.

æ¯”å¦‚, æ‰‹æœº, å°±æ˜¯ä¸€ä¸ªå¤§ç±» , æŠ½è±¡çš„ æ³›æŒ‡çš„. æ±½è½¦, ä¹Ÿæ˜¯ä¸€ä¸ªç±».

æ¯”å¦‚, å°ç±³æ‰‹æœº, è‹¹æœæ‰‹æœº. ç®—æ˜¯ç±»è¿˜æ˜¯å¯¹è±¡? å®é©¬, å¥”é©° ç®—æ˜¯ç±»è¿˜æ˜¯å¯¹è±¡?

å…·ä½“çš„ ,æ¯”å¦‚å°ç±³æŸä¸ªå‹å·çš„æ‰‹æœº, æ˜¯å¯¹è±¡äº†å§? ä½†æ˜¯, è¿™ä¸ªå‹å·çš„æ‰‹æœºç”Ÿäº§äº†100wå°.

å†å…·ä½“ç‚¹, æˆ‘æ‰‹ä¸Šçš„è¿™å°å°ç±³æ‰‹æœº. å…·ä½“çš„ä¸€ä¸ªå¯¹è±¡.

#### ä»€ä¹ˆæ˜¯ç±»?

> **ç±»æ˜¯ç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¨¡æ¿ã€‚**å®ƒæè¿°ä¸€ç±»å¯¹è±¡çš„è¡Œä¸ºå’ŒçŠ¶æ€ã€‚(æ–¹æ³•å’Œå±æ€§)

æ¯”å¦‚, ä¸­ç§‹åƒæœˆé¥¼, æœˆé¥¼ä¸Šéƒ½æœ‰ä¸€äº›å›¾æ¡ˆèŠ±çº¹, å…·æœ‰ç›¸åŒèŠ±çº¹çš„æœˆé¥¼, éƒ½æ˜¯ åŒä¸€ä¸ªæœˆé¥¼æ¨¡å…·å‹å‡ºæ¥çš„.. é‚£è¿™ä¸ªæ¨¡å…·, å°±ç›¸å½“æ˜¯æœˆé¥¼çš„ä¸€ä¸ªç±». ç”¨å®ƒå‹å‡ºæ¥çš„æœˆé¥¼, éƒ½å…·æœ‰ç›¸åŒçš„èŠ±çº¹.

#### ä»€ä¹ˆæ˜¯å¯¹è±¡

> **å¯¹è±¡æ˜¯å±æ€§å’Œæ–¹æ³•çš„é›†åˆ**

#### é¢å‘å¯¹è±¡æ€ç»´

1. æŠ½å–(æŠ½è±¡) å¯¹è±¡å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•å°è£…æˆä¸€ä¸ªæ¨¡æ¿ (ç±»).
2. ç”¨ç±»å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ (ç”¨è¿™ä¸ªç±»ä½œä¸ºæ¨¡æ¿åˆ›å»ºä¸€ä¸ªå…·æœ‰å®ƒçš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡, å¯ä»¥åˆ›å»ºå¾ˆå¤šä¸ªå¯¹è±¡)

### 1.5 é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾

![image-20220808234951008](imgs/image-20220808234951008.png)

1. **å°è£…** : å°è£…æ˜¯æŒ‡éšè—å¯¹è±¡çš„å±æ€§å’Œå®ç°ç»†èŠ‚ï¼Œä»…å¯¹å¤–æä¾›å…¬å…±è®¿é—®æ–¹å¼ã€‚(æŠ½å–å…¬å…±çš„å±æ€§æ–¹æ³•)
2. **ç»§æ‰¿** : ç»§æ‰¿å¯ä»¥ä½¿å¾—å­ç±»å…·æœ‰çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•. æˆ–è€…é‡æ–°å®šä¹‰ã€è¿½åŠ å±æ€§å’Œæ–¹æ³•ç­‰ã€‚
3. **å¤šæ€** : å±äºåŒä¸€ä¸ªçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•ï¼Œå‡ºæ¥ä¸åŒçš„æ•ˆæœï¼Œå°±æ˜¯å¤šæ€

#### 1.5.1 **å°è£…:**

æˆ‘ä»¬ç¨‹åºè®¾è®¡è¿½æ±‚â€œé«˜å†…èšï¼Œä½è€¦åˆâ€

é«˜å†…èšï¼šç±»çš„å†…éƒ¨æ•°æ®æ“ä½œç»†èŠ‚è‡ªå·±å®Œæˆï¼Œä¸å…è®¸å¤–éƒ¨å¹²æ¶‰

ä½è€¦åˆï¼šä»…å¯¹å¤–æš´éœ²å°‘é‡çš„æ–¹æ³•ç”¨äºä½¿ç”¨ã€‚

éšè—å¯¹è±¡å†…éƒ¨çš„å¤æ‚æ€§ï¼Œåªå¯¹å¤–å…¬å¼€ç®€å•çš„æ¥å£ã€‚ä¾¿äºå¤–ç•Œè°ƒç”¨ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§ã€‚é€šä¿—çš„è¯´ï¼ŒæŠŠè¯¥éšè—çš„éšè—èµ·æ¥ï¼Œè¯¥æš´éœ²çš„æš´éœ²å²€æ¥ã€‚è¿™å°±æ˜¯å°è£…æ€§çš„è®¾è®¡æ€æƒ³ã€‚

```js
// æ„é€ å‡½æ•° å°è£…äº†äººçš„å§“å, å¹´é¾„, æ‰“æ‹›å‘¼ç­‰.
function Person(name, age){
    this.name = name
    this.age = age
    this.sayHi = function(){
        console.log('ä½ å¥½å“‡~ nice to meet u')
    }
}
var p1 = new Person('å°å¼ ', 18)
```

#### 1.5.2 ç»§æ‰¿

**ç»§æ‰¿** : ç»§æ‰¿å¯ä»¥ä½¿å¾—å­ç±»å…·æœ‰çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•. æˆ–è€…é‡æ–°å®šä¹‰ã€è¿½åŠ å±æ€§å’Œæ–¹æ³•ç­‰ã€‚

#### 1.5.2 å¤šæ€

**å¤šæ€**ï¼šå±äºåŒä¸€ä¸ªçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•ï¼Œå‡ºæ¥ä¸åŒçš„æ•ˆæœï¼Œå°±æ˜¯å¤šæ€ã€‚

æ¯”å¦‚, æ‰‹æœºéƒ½æœ‰å¼€æœºè¿™ä¸ªè¡Œä¸º, å°ç±³æ‰‹æœºçš„å¼€æœºåŠ¨ç”»æ˜¯å°ç±³logo, è‹¹æœæ‰‹æœºå¼€æœºåŠ¨ç”»æ˜¯è‹¹æœlogo.



## 2. æ„é€ å‡½æ•°

![image-20220808235122475](imgs/image-20220808235122475.png)

- [å †æ ˆå†…å­˜](https://zhuanlan.zhihu.com/p/362219811)

### 2.1 æ„é€ å‡½æ•°çš„é—®é¢˜

![image-20220808235208466](imgs/image-20220808235208466.png)

#### Code

```js
// å…¬å…±æ–¹æ³•ï¼šæ¯å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡, å°±æ–°å¼€è¾Ÿä¸€ä¸ªç©ºé—´
function Star(name, age) {
  this.name = name
  this.age = age
  this.sing = function () {
    console.log('å”±æ­Œ')
   }
}
const ldh = new Star('åˆ˜å¾·å', 25)
const zxy = new Star('å‘¨æ°ä¼¦', 18)
console.log(ldh.sing === zxy.sing)  // false 
```



### å°ç»“

![image-20220808235254277](imgs/image-20220808235254277.png)

![image-20220808235322672](imgs/image-20220808235322672.png)

### 2.2 å¼•å…¥åŸå‹è§£å†³

#### Code

```js
// 1.å…¬å…±çš„å±æ€§å†™åˆ° æ„é€ å‡½æ•°é‡Œé¢
function Star(uname, age) {
  this.uname = uname
  this.age = age
  // this.sing = function () {
  //   console.log('å”±æ­Œ')
  // }
}
// 2. å…¬å…±çš„æ–¹æ³•å†™åˆ°åŸå‹å¯¹è±¡èº«ä¸Š   èŠ‚çº¦äº†å†…å­˜
Star.prototype.sing = function () {
  console.log('å”±æ­Œ')
}
const ldh = new Star('åˆ˜å¾·å', 25)
const zxy = new Star('å¼ å­¦å‹', 18)
ldh.sing() //è°ƒç”¨
zxy.sing() //è°ƒç”¨
// console.log(ldh === zxy)  // false
// singæ˜¯æ–¹æ³•, åœ¨å†…å­˜é‡Œé¢å¼€è¾Ÿäº†ä¸åŒç©ºé—´
console.log(ldh.sing === zxy.sing)

```



## 3. åŸå‹

### 3.1 prototype ğŸ”¥ğŸ”¥

![image-20220808235413667](imgs/image-20220808235413667.png)

![image-20220808235455222](imgs/image-20220808235455222.png)

#### åŸå‹thisæŒ‡å‘

![image-20220808235526686](imgs/image-20220808235526686.png)

#### Code

```js
let that
function Star(uname) {
    // that = this
    // console.log(this)
    this.uname = uname
}
// åŸå‹å¯¹è±¡é‡Œé¢çš„å‡½æ•°thisæŒ‡å‘çš„è¿˜æ˜¯ å®ä¾‹å¯¹è±¡ ldh
Star.prototype.sing = function () {
    that = this
    console.log('å”±æ­Œ')
}
// å®ä¾‹å¯¹è±¡ ldh   
// æ„é€ å‡½æ•°é‡Œé¢çš„ this å°±æ˜¯  å®ä¾‹å¯¹è±¡  ldh
const ldh = new Star('åˆ˜å¾·å')
ldh.sing()
console.log(that === ldh)
```



#### Eg.æ•°ç»„æ‰©å±•æ–¹æ³•

> æ„é€ å‡½æ•°å’ŒåŸå‹é‡Œé¢çš„thisæŒ‡å‘è° ï¼Ÿ å®ä¾‹åŒ–çš„å¯¹è±¡

![image-20220808235621325](imgs/image-20220808235621325.png)

![image-20220808235628028](imgs/image-20220808235628028.png)

#### Code

> çœ‹çœ‹è§†é¢‘ï¼Œ å®é™…å·¥ä½œä¸­ä¸å»ºè®®è¿™ä¹ˆç”¨ï¼

- ä¸å»ºè®®ä¿®æ”¹Arrayï¼ŒObjectç­‰å¯¹è±¡çš„åŸå‹ï¼â€˜
- ç‰¹åˆ«æ˜¯prototypeåŸå‹ä¸Šæœ¬èº«å­˜åœ¨çš„æ–¹æ³•ã€‚å› ä¸ºå®é™…å¼€å‘ï¼Œè‡ªå·±ä¿®æ”¹äº†ï¼Œ è€Œåˆ«çš„åŒå­¦ä¸çŸ¥é“ï¼Œ ä¸€ç”¨å°±ä¼šæœ‰é—®é¢˜ã€‚å¹¶ä¸”å¯èƒ½æ‰¾åŠå¤©éƒ½æ‰¾ä¸åˆ°é”™è¯¯åŸå› ã€‚
- å› ä¸ºåˆ«çš„åŒå­¦æ‰“æ­»ä¹Ÿæƒ³ä¸åˆ°ä½ ä¼šæ”¹è¿™ä¸ªï¼Œ æœ€åå‘ç°æ˜¯ä½ æ”¹äº†åŸå‹ã€‚
- Good Luck.

```js
// è‡ªå·±å®šä¹‰ æ•°ç»„æ‰©å±•æ–¹æ³•  æ±‚å’Œ å’Œ æœ€å¤§å€¼ 
// 1. æˆ‘ä»¬å®šä¹‰çš„è¿™ä¸ªæ–¹æ³•ï¼Œä»»ä½•ä¸€ä¸ªæ•°ç»„å®ä¾‹å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨
// 2. è‡ªå®šä¹‰çš„æ–¹æ³•å†™åˆ°  æ•°ç»„.prototype èº«ä¸Š
// 1. æœ€å¤§å€¼
const arr = [1, 2, 3]
Array.prototype.max = function () {
  // å±•å¼€è¿ç®—ç¬¦
  return Math.max(...this)
  // åŸå‹å‡½æ•°é‡Œé¢çš„this æŒ‡å‘è°ï¼Ÿ å®ä¾‹å¯¹è±¡ arr
}
// 2. æœ€å°å€¼
Array.prototype.min = function () {
  // å±•å¼€è¿ç®—ç¬¦
  return Math.min(...this)
  // åŸå‹å‡½æ•°é‡Œé¢çš„this æŒ‡å‘è°ï¼Ÿ å®ä¾‹å¯¹è±¡ arr
}
console.log(arr.max())
console.log([2, 5, 9].max())
console.log(arr.min())
// const arr = new Array(1, 2)
// console.log(arr)
// 3. æ±‚å’Œ æ–¹æ³• 
Array.prototype.sum = function () {
  return this.reduce((prev, item) => prev + item, 0)
}
console.log([1, 2, 3].sum())
console.log([11, 21, 31].sum())
```



### 3.2 constructorå±æ€§ ğŸ”¥ğŸ”¥

![image-20220809000327058](imgs/image-20220809000327058.png)

#### Code

```js
// constructor   æ„é€ å‡½æ•°

function Star(name, age) {
    this.name = name
    this.age = age
}
const ldh = new Star()
console.log(Star) // 
console.log(Star.prototype) 
// æ¯ä¸ªåŸå‹(å¯¹è±¡)éƒ½æœ‰ä¸€ä¸ªconstructorå±æ€§ï¼ŒæŒ‡å›æ„é€ å‡½æ•°æœ¬èº«
console.log(ldh.__proto__ == Star.prototype) // true
console.log(Star.prototype.constructor == Star) // true
// å¯ä»¥è·å¾—å¯¹è±¡çš„åŸå‹
console.log(Object.getPrototypeOf(ldh) === Star.prototype) // true
```



![image-20220809000343296](imgs/image-20220809000343296.png)

#### Code

```js
// æ¯ä¸ªåŸå‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªconstructorå±æ€§ï¼ŒæŒ‡å›æ„é€ å‡½æ•°æœ¬èº«
function Star(name, age) {
    this.name = name
    this.age = age
}
Star.prototype.sing = function(){
    console.log('å”±æ­Œ')
}
Star.prototype.dance = function(){
    console.log('è·³èˆ')
}
console.log(Star.prototype)
Star.prototype = {
  // å¯ä»¥æ‰‹åŠ¨çš„åˆ©ç”¨constructoræŒ‡å›åŸæ¥çš„æ„é€ å‡½æ•°
    constructor: Star, // 
    sing: function(){
        console.log('å”±æ­Œ')
    },
    dance:function(){
        console.log('è·³èˆ')
    }
}
console.log(Star.prototype)
const ldh = new Star()
```



![image-20220809000403072](imgs/image-20220809000403072.png)

### 3.3 `__proto__` ğŸ”¥ğŸ”¥

![image-20220809000501841](imgs/image-20220809000501841.png)

#### Code 

```js
function Star(name) {
  this.name = name
}
Star.prototype.sing = function(){
  console.log('sing')
}
const ldh = new Star('åˆ˜å¾·å')
console.log(ldh); 
console.log(ldh.__proto__ === Star.prototype);
// æ–¹æ³•å±æ€§çš„æŸ¥æ‰¾è§„åˆ™:
// é¦–å…ˆå…ˆçœ‹ldh å¯¹è±¡èº«ä¸Šæ˜¯å¦æœ‰ sing æ–¹æ³•,å¦‚æœæœ‰å°±æ‰§è¡Œè¿™ä¸ªå¯¹è±¡ä¸Šçš„sing
// å¦‚æœä¹ˆæœ‰sing è¿™ä¸ªæ–¹æ³•,å°±ä¼šé€šè¿‡__proto__å»å®ä¾‹çš„åŸå‹ä¸ŠæŸ¥æ‰¾ 
```



![image-20220809000523460](imgs/image-20220809000523460.png)

![image-20220809000605947](imgs/image-20220809000605947.png)

#### Error

>  æ³¨æ„ä¸‹é¢è¿™å¼ å›¾ï¼Œ é”™è¯¯ï¼Error

- å®ä¾‹æ²¡æœ‰æŒ‡å›æ„é€ å‡½æ•°çš„é‚£ä¸€æ¡çº¿ï¼

![image-20220809000741009](imgs/image-20220809000741009.png)

![image-20220809000858955](imgs/image-20220809000858955.png)

> æ³¨æ„ï¼Œ ä¸Šé¢ç¬¬äºŒæ¡ï¼Œ constructorå±æ€§åœ¨å“ªé‡Œï¼Ÿ åœ¨åŸå‹å¯¹è±¡é‡Œã€‚

- æ²¡æœ‰å¯¹è±¡åŸå‹è¿™ç§è¯´æ³•ï¼Œ å«éšå¼åŸå‹æ›´æ°å½“ï¼
- å¹¶ä¸æ˜¯éƒ½æœ‰ï¼Œ å› ä¸ºconstructorå°±æ˜¯åœ¨åŸå‹é‡Œï¼Œåªæ˜¯`å®ä¾‹.__proto__`èƒ½è®¿é—®åˆ°è€Œå·²ï¼
- Error ==> å¯¹è±¡åŸå‹é‡Œé¢æœ‰constructor æŒ‡å‘ æ„é€ å‡½æ•° Star

```js
ldh.__proto__ === Star.prototype // true
// å¯¹è±¡åŸå‹é‡Œé¢æœ‰constructor æŒ‡å‘ æ„é€ å‡½æ•° Star  // Errorï¼
ldh.__prototype.constructor === Star  // true
// Error ä¸è¦è¿™ä¹ˆè¯´ï¼ 
// æœ¬è´¨ä¸Šï¼Œ æ˜¯å› ä¸ºldh.__prototype æŒ‡å‘äº†åŸå‹ï¼Œ åŸå‹é‡Œæœ‰constructorå±æ€§
// constructoræ˜¯å±æ€§å°±æ˜¯æŒ‡å‘Starçš„ã€‚
```



![image-20220809000914635](imgs/image-20220809000914635.png)

### 3.4 ç»˜å›¾:æ„é€ å‡½æ•°/åŸå‹/å®ä¾‹ ğŸ”¥ğŸ”¥

- https://app.diagrams.net/

- https://github.com/jgraph/drawio-desktop/releases/tag/v20.2.3

![image-20220811002932694](imgs/image-20220811002932694.png)

1. æ„é€ å‡½æ•°.prototype      ==>      æŒ‡å‘äº†åŸå‹å¯¹è±¡
2. åŸå‹å¯¹è±¡.constructor   ==>      æŒ‡å›äº†æ„é€ å‡½æ•°
3. å®ä¾‹.`__proto__`           ==>      æŒ‡å‘äº†åŸå‹å¯¹è±¡

æ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡æ˜¯ç›¸äº’æŒ‡å‘çš„ï¼Œ å®ä¾‹é€šè¿‡`__proto__` å¯ä»¥è®¿é—®åŸå‹å¯¹è±¡ã€‚

```js
function Person(name){
  this.name = name
}
const p = new Person()

// 1. å®ä¾‹å¯¹è±¡éšå¼åŸå‹ æŒ‡å‘ æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹
console.log(p.__proto__ === Person.prototype)

// 2. Person.prototypeä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ æ‰€ä»¥ï¼Œå®ƒä¹Ÿæœ‰__proto__ å±æ€§

console.log(Person.prototype.__proto__ === Object.prototype)
// ä»¥ä¸‹ä¸¤ä¸ªéƒ½æŒ‡å‘ Object çš„åŸå‹å¯¹è±¡
console.log(Person.prototype.__proto__)
console.log(Object.prototype)

// 3. Object.prototype åŸå‹å¯¹è±¡çš„__proto__æœ€ç»ˆæŒ‡å‘null
Object.prototype.__proto__ === null
```



### 3.5 åŸå‹é“¾ ğŸ”¥ğŸ”¥ğŸ”¥

> åŸå‹é“¾ï¼š (èƒŒä¸‹æ¥)
>
> 1. æ¯ä¸ªå¯¹è±¡é€šè¿‡`__proto__`å±æ€§éƒ½èƒ½è®¿é—®åˆ°å®ƒçš„åŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡ä¹Ÿæœ‰å®ƒçš„åŸå‹å¯¹è±¡ã€‚
> 2. å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå…ˆåœ¨è‡ªèº«ä¸­å¯»æ‰¾
> 3. å¦‚æœæ²¡æœ‰ï¼Œå°±ä¼šæ²¿ç€`__proto__`è¿™æ¡é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚Object.prototypeä¸ºæ­¢.

![image-20220811021507106](imgs/image-20220811021507106.png)

#### Code

```js
// Person.prototypeä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ æ‰€ä»¥ï¼Œå®ƒä¹Ÿæœ‰__proto__ å±æ€§
console.log(Person.prototype.__proto__ === Object.prototype)
// éƒ½æŒ‡å‘Objectçš„åŸå‹
console.log(Person.prototype.__proto__)
console.log(Object.prototype)
// æ­£å¸¸çš„åŸå‹é“¾éƒ½ä¼šç»ˆæ­¢äº Object çš„åŸå‹å¯¹è±¡ 
// Object åŸå‹çš„åŸå‹æ˜¯ null
Object.prototype.__proto__ === null
```

![image-20220811034139481](imgs/image-20220811034139481.png)

### 3.6 instanceof

```js
// instanceof è¿ç®—ç¬¦
// ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ prototype å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Š

// è¯­æ³•
// å®ä¾‹ instanceof æ„é€ å‡½æ•°

// ç†è§£ï¼š æ£€æµ‹æ„é€ å‡½æ•°çš„åŸå‹ï¼Œ æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹çš„åŸå‹é“¾ä¸Šã€‚
// ==> å®ç°åŸç†å°±æ˜¯åªè¦å³è¾¹å˜é‡çš„ prototype åœ¨å·¦è¾¹å˜é‡çš„åŸå‹é“¾ä¸Šå³å¯

// å®šä¹‰æ„é€ å‡½æ•°
function C(){} 
function D(){} 
const o = new C()
o instanceof C; // trueï¼Œo.__proto__ === C.prototype
o instanceof D; // falseï¼Œå› ä¸º D.prototype ä¸åœ¨ o çš„åŸå‹é“¾ä¸Š

function Person() {} // æ„é€ å‡½æ•°
const ldh = new Person()
// console.log(ldh.__proto__ === Person.prototype)
// console.log(Person.prototype.__proto__ === Object.prototype)
console.log(ldh instanceof Person)
console.log(ldh instanceof Object)
console.log(ldh instanceof Array)
console.log([1, 2, 3] instanceof Array)
console.log(Array instanceof Object)

```

## 4. ç»§æ‰¿

### 4.1 åŸå‹é“¾ç»§æ‰¿

- ä¸å«åŸå‹ç»§æ‰¿ã€‚å«åŸå‹é“¾ç»§æ‰¿ã€‚ï¼ Error

![image-20220811040823242](imgs/image-20220811040823242.png)

![image-20220811040843533](imgs/image-20220811040843533.png)

![image-20220811040918713](imgs/image-20220811040918713.png)

![image-20220811040947410](imgs/image-20220811040947410.png)

![image-20220811041004731](imgs/image-20220811041004731.png)

![image-20220811041030712](imgs/image-20220811041030712.png)

![image-20220811041057198](imgs/image-20220811041057198.png)

```js
   // ç»§ç»­æŠ½å–   å…¬å…±çš„éƒ¨åˆ†æ”¾åˆ°åŸå‹ä¸Š
    // const Person1 = {
    //   eyes: 2,
    //   head: 1
    // }
    // const Person2 = {
    //   eyes: 2,
    //   head: 1
    // }
    // æ„é€ å‡½æ•°  new å‡ºæ¥çš„å¯¹è±¡ ç»“æ„ä¸€æ ·ï¼Œä½†æ˜¯å¯¹è±¡ä¸ä¸€æ ·
    function Person() {
      this.eyes = 2
      this.head = 1
    }
    // console.log(new Person)
    // å¥³äºº  æ„é€ å‡½æ•°   ç»§æ‰¿  æƒ³è¦ ç»§æ‰¿ Person
    function Woman() {

    }
    // Woman é€šè¿‡åŸå‹æ¥ç»§æ‰¿ Person
    // çˆ¶æ„é€ å‡½æ•°ï¼ˆçˆ¶ç±»ï¼‰   å­æ„é€ å‡½æ•°ï¼ˆå­ç±»ï¼‰
    // å­ç±»çš„åŸå‹ =  new çˆ¶ç±»  
    Woman.prototype = new Person()   // {eyes: 2, head: 1} 
    // æŒ‡å›åŸæ¥çš„æ„é€ å‡½æ•°
    Woman.prototype.constructor = Woman

    // ç»™å¥³äººæ·»åŠ ä¸€ä¸ªæ–¹æ³•  ç”Ÿå­©å­
    Woman.prototype.baby = function () {
      console.log('å®è´')
    }
    const red = new Woman()
    console.log(red)
    // console.log(Woman.prototype)
    // ç”·äºº æ„é€ å‡½æ•°  ç»§æ‰¿  æƒ³è¦ ç»§æ‰¿ Person
    function Man() {

    }
    // é€šè¿‡ åŸå‹ç»§æ‰¿ Person
    Man.prototype = new Person()
    Man.prototype.constructor = Man
    const pink = new Man()
    console.log(pink)
```



## 5.Eg.æ¡ˆä¾‹

### æ•ˆæœ

![image-20220811034213498](imgs/image-20220811034213498.png)

![image-20220811034229197](imgs/image-20220811034229197.png)

![image-20220811034257361](imgs/image-20220811034257361.png)

![image-20220811034323123](imgs/image-20220811034323123.png)

![image-20220811034340590](imgs/image-20220811034340590.png)

#### Code 

```js
// 1.  æ¨¡æ€æ¡†çš„æ„é€ å‡½æ•°
function Modal(title = '', message = '') {
  // å…¬å…±çš„å±æ€§éƒ¨åˆ†
  this.title = title
  this.message = message
  // å› ä¸ºç›’å­æ˜¯å…¬å…±çš„
  // 1. åˆ›å»º ä¸€å®šä¸è¦å¿˜äº†åŠ  this 
  this.modalBox = document.createElement('div')
  // 2. æ·»åŠ ç±»å
  this.modalBox.className = 'modal'
  // 3. å¡«å……å†…å®¹ æ›´æ¢æ•°æ®
  this.modalBox.innerHTML = `
        <div class="header">${this.title} <i>x</i></div>
        <div class="body">${this.message}</div>
      `
  // console.log(this.modalBox)
}
// 2. æ‰“å¼€æ–¹æ³• æŒ‚è½½ åˆ° æ¨¡æ€æ¡†çš„æ„é€ å‡½æ•°åŸå‹èº«ä¸Š
Modal.prototype.open = function () {
  if (!document.querySelector('.modal')) {
    // æŠŠåˆšæ‰åˆ›å»ºçš„ç›’å­ modalBox  æ¸²æŸ“åˆ° é¡µé¢ä¸­  çˆ¶å…ƒç´ .appendChild(å­å…ƒç´ )
    document.body.appendChild(this.modalBox)
    // è·å– x  è°ƒç”¨å…³é—­æ–¹æ³•
    this.modalBox.querySelector('i').addEventListener('click', () => {
      // ç®­å¤´å‡½æ•°æ²¡æœ‰this ä¸Šä¸€çº§ä½œç”¨åŸŸçš„this
      // è¿™ä¸ªthis æŒ‡å‘ m 
      this.close()
    })
  }
}
// 3. å…³é—­æ–¹æ³• æŒ‚è½½ åˆ° æ¨¡æ€æ¡†çš„æ„é€ å‡½æ•°åŸå‹èº«ä¸Š
Modal.prototype.close = function () {
  document.body.removeChild(this.modalBox)
}

// 4. æŒ‰é’®ç‚¹å‡»
document.querySelector('#delete').addEventListener('click', () => {
  const m = new Modal('æ¸©é¦¨æç¤º', 'æ‚¨æ²¡æœ‰æƒé™åˆ é™¤')
  // è°ƒç”¨ æ‰“å¼€æ–¹æ³•
  m.open()
})

// 5. æŒ‰é’®ç‚¹å‡»
document.querySelector('#login').addEventListener('click', () => {
  const m = new Modal('å‹æƒ…æç¤º', 'æ‚¨è¿˜ä¹ˆæœ‰æ³¨å†Œè´¦å·')
  // è°ƒç”¨ æ‰“å¼€æ–¹æ³•
  m.open()
})
```

